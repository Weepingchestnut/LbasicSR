# general settings
name: 05_ASVSR_UDM10_asBI_ft_x4
#name: 05_ASVSR_UDM10_ft_BDx4
model_type: ASVSRModel
scale: !!python/tuple [4, 4]
num_gpu: 1  # set num_gpu: 0 for cpu mode
manual_seed: 0

# dataset and data loader settings
datasets:
  test_1:
    name: UDM10
    type: ASVideoTestDataset
    dataroot_gt: datasets/UDM10/GT
    dataroot_lq: datasets/UDM10/BDx4
    io_backend:
      type: disk

    cache_data: false
    num_frame: 7
    padding: reflection_circle    # [reflection, reflection_circle]
    # arbitrary scale dataset --------------------------
    use_arbitrary_scale_downsampling: true
#    downsampling_scale: !!python/tuple [4, 4]
    downsampling_mode: torch
    # --------------------------------------------------

# network structures
network_g:
  type: ASVSR
  num_in_ch: 3
  num_feat: 64
  num_frame: 7
  window_size: 5
  n_resgroups: 5
  n_resblocks: 10
  center_frame_idx: ~

# path
path:
  pretrain_network_g: experiments/05_ASVSR_Vimeo90K_asBI_ft/models/net_g_100000.pth
  strict_load_g: true
  resume_state: ~

# validation settings
val:
  save_img: true
  suffix: ~  # add suffix to saved images, if None, use exp name

  metrics:
    psnr_y: # metric name, can be arbitrary
      type: calculate_psnr
      crop_border: 0
      test_y_channel: true
    ssim_y:
      type: calculate_ssim
      crop_border: 0
      test_y_channel: true
